<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="../angular.min.js"></script>
</head>
<body ng-app="body">
<form action="" ng-controller="c1" name="form">
    <input type="text" name='even' ng-model="data" even placeholder="只能输入偶数"/>{{data}}{{form.even.$error.ipt}}
    <div ng-show='form.even.$error.ipt'>请输入偶数</div>
</form>
</body>
<script>
    //需要自定义指令
//    ng-model 里的属性 见图片
var zz;
    angular.module('body',[]).controller('c1',['$scope',function($scope){

    }])
            .directive('even',function(){
                return {
                    require:'ngModel',
                    link:function(scope,element,attrs,model){
                        model.$parsers.push(function(viewValue){
                            console.log(viewValue);
                            if(viewValue%2==0){
                                model.$setValidity('ipt',true);
                            }else{
                                model.$setValidity('ipt',false)
                            }
                            return viewValue      //实现数据绑定到view
                        })
                    }
                }
            })
</script>
</html>